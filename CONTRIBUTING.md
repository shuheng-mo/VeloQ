# è´¡çŒ®æŒ‡å—

é¦–å…ˆï¼Œæ„Ÿè°¢ä½ è€ƒè™‘ä¸º VeloQ åšå‡ºè´¡çŒ®ï¼æ­£æ˜¯åƒä½ è¿™æ ·çš„äººè®© VeloQ æˆä¸ºå¦‚æ­¤ä¼˜ç§€çš„å·¥å…·ã€‚

ä»¥ä¸‹æ˜¯ä¸€å¥—æŒ‡å¯¼æ–¹é’ˆï¼Œå¸®åŠ©ä½ ä¸º VeloQ åšå‡ºè´¡çŒ®ã€‚è¿™äº›ä¸»è¦æ˜¯æŒ‡å¯¼æ–¹é’ˆï¼Œè€Œä¸æ˜¯è§„åˆ™ã€‚è¯·æ ¹æ®è‡ªå·±çš„åˆ¤æ–­è¡Œäº‹ï¼Œå¹¶éšæ—¶æå‡ºå¯¹æœ¬æ–‡æ¡£çš„æ”¹è¿›å»ºè®®ã€‚

## ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®ï¼Ÿ](#æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®)
  - [æŠ¥å‘Š Bug](#æŠ¥å‘Š-bug)
  - [å»ºè®®åŠŸèƒ½å¢å¼º](#å»ºè®®åŠŸèƒ½å¢å¼º)
  - [ä»£ç è´¡çŒ®](#ä»£ç è´¡çŒ®)
  - [æ”¹è¿›æ–‡æ¡£](#æ”¹è¿›æ–‡æ¡£)
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤ä¿¡æ¯è§„èŒƒ](#æäº¤ä¿¡æ¯è§„èŒƒ)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [ç¤¾åŒº](#ç¤¾åŒº)

---

## è¡Œä¸ºå‡†åˆ™

æœ¬é¡¹ç›®åŠå…¶æ‰€æœ‰å‚ä¸è€…å‡å— [è¡Œä¸ºå‡†åˆ™](CODE_OF_CONDUCT.md) çš„çº¦æŸã€‚å‚ä¸æœ¬é¡¹ç›®å³è¡¨ç¤ºä½ åŒæ„éµå®ˆå…¶æ¡æ¬¾ã€‚å¦‚æœä½ å‘ç°ä¸å¯æ¥å—çš„è¡Œä¸ºï¼Œè¯·æŠ¥å‘Šè‡³é¡¹ç›®ç»´æŠ¤è€…ã€‚

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ å¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬ä½œä¸ºè´¡çŒ®è€…å’Œç»´æŠ¤è€…æ‰¿è¯ºï¼šæ— è®ºå¹´é¾„ã€ä½“å‹ã€æ®‹ç–¾ã€ç§æ—ã€æ€§åˆ«è®¤åŒå’Œè¡¨è¾¾ã€ç»éªŒæ°´å¹³ã€å›½ç±ã€ä¸ªäººå¤–è²Œã€ç§æ—ã€å®—æ•™æˆ–æ€§å–å‘å¦‚ä½•ï¼Œå‚ä¸æˆ‘ä»¬çš„é¡¹ç›®å’Œç¤¾åŒºå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯æ— éªšæ‰°çš„ä½“éªŒã€‚

---

## æˆ‘èƒ½åšä»€ä¹ˆè´¡çŒ®ï¼Ÿ

### æŠ¥å‘Š Bug

å¦‚æœä½ å‘ç°äº†ä¸€ä¸ª Bugï¼Œè¯·é€šè¿‡ [GitHub Issues](https://github.com/yourusername/veloq/issues) æäº¤æŠ¥å‘Šã€‚

**åœ¨æäº¤ Bug æŠ¥å‘Šä¹‹å‰ï¼š**

1. æ£€æŸ¥ [ç°æœ‰ Issues](https://github.com/yourusername/veloq/issues) ç¡®ä¿è¯¥é—®é¢˜å°šæœªè¢«æŠ¥å‘Š
2. ç¡®å®šè¿™æ˜¯ä¸€ä¸ª Bug è€Œä¸æ˜¯é¢„æœŸè¡Œä¸ºï¼ˆå¯ä»¥å…ˆåœ¨æ–‡æ¡£ä¸­æŸ¥æ‰¾ï¼‰
3. æ”¶é›†å…³äºè¯¥é—®é¢˜çš„è¯¦ç»†ä¿¡æ¯

**æäº¤é«˜è´¨é‡çš„ Bug æŠ¥å‘Šï¼š**

Bug æŠ¥å‘Šåº”è¯¥åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```markdown
**æè¿° Bug**
æ¸…æ™°ç®€æ´åœ°æè¿°è¿™ä¸ª Bug æ˜¯ä»€ä¹ˆã€‚

**é‡ç°æ­¥éª¤**
é‡ç°è¯¥è¡Œä¸ºçš„æ­¥éª¤ï¼š
1. æ‰§è¡Œå‘½ä»¤ '...'
2. ä½¿ç”¨é…ç½® '....'
3. è§‚å¯Ÿåˆ°é”™è¯¯

**é¢„æœŸè¡Œä¸º**
æ¸…æ™°ç®€æ´åœ°æè¿°ä½ æœŸæœ›å‘ç”Ÿçš„äº‹æƒ…ã€‚

**å®é™…è¡Œä¸º**
æ¸…æ™°ç®€æ´åœ°æè¿°å®é™…å‘ç”Ÿçš„äº‹æƒ…ã€‚

**ç¯å¢ƒä¿¡æ¯**
- OS: [ä¾‹å¦‚ Ubuntu 22.04, macOS 13.0]
- ç¼–è¯‘å™¨: [ä¾‹å¦‚ GCC 11.3, Clang 14.0]
- CMake ç‰ˆæœ¬: [ä¾‹å¦‚ 3.25.0]
- VeloQ ç‰ˆæœ¬: [ä¾‹å¦‚ 1.0.0-alpha]

**æ—¥å¿—è¾“å‡º**
å¦‚æœé€‚ç”¨ï¼Œè¯·ç²˜è´´ç›¸å…³çš„æ—¥å¿—è¾“å‡ºï¼ˆä½¿ç”¨ä»£ç å—ï¼‰ã€‚

**é¢å¤–ä¿¡æ¯**
æ·»åŠ ä»»ä½•å…¶ä»–å…³äºè¯¥é—®é¢˜çš„ä¿¡æ¯ã€‚
```

### å»ºè®®åŠŸèƒ½å¢å¼º

å¦‚æœä½ æœ‰æ–°åŠŸèƒ½çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¾ˆä¹æ„å¬åˆ°ï¼è¯·é€šè¿‡ [GitHub Issues](https://github.com/yourusername/veloq/issues) æäº¤åŠŸèƒ½è¯·æ±‚ã€‚

**æäº¤åŠŸèƒ½è¯·æ±‚æ—¶ï¼š**

```markdown
**é—®é¢˜é™ˆè¿°**
æè¿°ä½ æƒ³è¦è§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼š"æˆ‘åœ¨ä½¿ç”¨ [...] æ—¶æ€»æ˜¯å¾ˆæ²®ä¸§ï¼Œå› ä¸º [...]"

**å»ºè®®çš„è§£å†³æ–¹æ¡ˆ**
æ¸…æ™°ç®€æ´åœ°æè¿°ä½ å¸Œæœ›å‘ç”Ÿçš„äº‹æƒ…ã€‚

**æ›¿ä»£æ–¹æ¡ˆ**
æ¸…æ™°ç®€æ´åœ°æè¿°ä½ è€ƒè™‘è¿‡çš„ä»»ä½•æ›¿ä»£è§£å†³æ–¹æ¡ˆæˆ–åŠŸèƒ½ã€‚

**ä½¿ç”¨åœºæ™¯**
æè¿°è¿™ä¸ªåŠŸèƒ½å°†å¦‚ä½•ä½¿ç”¨çš„å…·ä½“åœºæ™¯ã€‚

**é¢å¤–ä¿¡æ¯**
æ·»åŠ ä»»ä½•å…¶ä»–å…³äºåŠŸèƒ½è¯·æ±‚çš„ä¿¡æ¯æˆ–æˆªå›¾ã€‚
```

### ä»£ç è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ä»£ç è´¡çŒ®ï¼æ— è®ºæ˜¯ä¿®å¤ Bugã€å®ç°æ–°åŠŸèƒ½è¿˜æ˜¯æ”¹è¿›æ€§èƒ½ã€‚

**ç¬¬ä¸€æ¬¡è´¡çŒ®ï¼Ÿ**

å¯»æ‰¾æ ‡è®°ä¸º `good first issue` æˆ– `help wanted` çš„ Issuesã€‚è¿™äº›æ˜¯ç‰¹åˆ«é€‚åˆæ–°è´¡çŒ®è€…çš„ä»»åŠ¡ã€‚

**è´¡çŒ®ç±»å‹ï¼š**

- ğŸ› Bug ä¿®å¤
- âœ¨ æ–°åŠŸèƒ½
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ¨ ä»£ç é‡æ„
- âœ… æµ‹è¯•å¢å¼º

### æ”¹è¿›æ–‡æ¡£

æ–‡æ¡£å’Œä»£ç ä¸€æ ·é‡è¦ï¼ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ”¹è¿›æ–‡æ¡£ï¼š

- ä¿®å¤æ‹¼å†™é”™è¯¯æˆ–è¯­æ³•é”™è¯¯
- æ”¹è¿›ç°æœ‰æ–‡æ¡£çš„æ¸…æ™°åº¦
- æ·»åŠ ç¼ºå¤±çš„æ–‡æ¡£
- æ·»åŠ ä»£ç ç¤ºä¾‹
- ç¿»è¯‘æ–‡æ¡£

---

## å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

ç¡®ä¿ä½ çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

- C++17 å…¼å®¹çš„ç¼–è¯‘å™¨ï¼ˆGCC 7+, Clang 6+, MSVC 2019+ï¼‰
- CMake 3.20+
- Git 2.0+
- Boost 1.70+

è¯¦ç»†ä¾èµ–å®‰è£…è¯·å‚è€ƒ [docs/build/dependencies.md](docs/build/dependencies.md)

### Fork å’Œ Clone ä»“åº“

1. åœ¨ GitHub ä¸Š Fork æœ¬ä»“åº“
2. Clone ä½ çš„ Forkï¼š

```bash
git clone https://github.com/YOUR_USERNAME/veloq.git
cd veloq
```

3. æ·»åŠ ä¸Šæ¸¸ä»“åº“ï¼š

```bash
git remote add upstream https://github.com/yourusername/veloq.git
```

### æ„å»ºé¡¹ç›®

```bash
# åˆ›å»ºæ„å»ºç›®å½•
mkdir build && cd build

# é…ç½® CMakeï¼ˆå¼€å¯æ‰€æœ‰æ£€æŸ¥ï¼‰
cmake .. \
  -DCMAKE_BUILD_TYPE=Debug \
  -DBUILD_TESTS=ON \
  -DENABLE_SANITIZERS=ON

# ç¼–è¯‘
cmake --build . -j8

# è¿è¡Œæµ‹è¯•
ctest --output-on-failure
```

### å¼€å‘å·¥å…·æ¨è

- **IDE**: CLion, VSCode with C++ extensions, Visual Studio
- **ä»£ç æ ¼å¼åŒ–**: clang-format
- **é™æ€åˆ†æ**: clang-tidy, cppcheck
- **è°ƒè¯•å™¨**: gdb, lldb
- **æ€§èƒ½åˆ†æ**: valgrind, perf, google-perftools

---

## å¼€å‘æµç¨‹

### 1. åˆ›å»ºåˆ†æ”¯

å§‹ç»ˆåœ¨æ–°åˆ†æ”¯ä¸Šå·¥ä½œï¼Œä¸è¦ç›´æ¥åœ¨ `main` åˆ†æ”¯ä¸Šæäº¤ï¼š

```bash
# æ›´æ–° main åˆ†æ”¯
git checkout main
git pull upstream main

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b feature/my-awesome-feature
# æˆ–
git checkout -b fix/issue-123
```

åˆ†æ”¯å‘½åçº¦å®šï¼š
- `feature/` - æ–°åŠŸèƒ½
- `fix/` - Bug ä¿®å¤
- `perf/` - æ€§èƒ½ä¼˜åŒ–
- `refactor/` - ä»£ç é‡æ„
- `docs/` - æ–‡æ¡£æ›´æ–°
- `test/` - æµ‹è¯•ç›¸å…³

### 2. è¿›è¡Œæ›´æ”¹

- ä¿æŒæäº¤çš„åŸå­æ€§ï¼ˆä¸€ä¸ªæäº¤åªåšä¸€ä»¶äº‹ï¼‰
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼ˆè§ä¸‹æ–‡ï¼‰
- ç»å¸¸æäº¤ï¼Œä¸è¦ç§¯ç´¯å¤ªå¤šæ›´æ”¹

### 3. æµ‹è¯•ä½ çš„æ›´æ”¹

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cd build
ctest --output-on-failure

# è¿è¡Œç‰¹å®šæ¨¡å—çš„æµ‹è¯•
./src/gateway/veloq_gateway_tests

# ä½¿ç”¨å†…å­˜æ£€æŸ¥å·¥å…·
cmake .. -DENABLE_SANITIZERS=ON
cmake --build .
ctest

# æ€§èƒ½æµ‹è¯•ï¼ˆå¦‚æœç›¸å…³ï¼‰
./benchmarks/feature_engine_benchmark
```

### 4. ä¿æŒåŒæ­¥

åœ¨æäº¤ PR ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„åˆ†æ”¯ä¸ä¸Šæ¸¸ `main` åˆ†æ”¯åŒæ­¥ï¼š

```bash
git fetch upstream
git rebase upstream/main
```

å¦‚æœæœ‰å†²çªï¼Œè§£å†³å®ƒä»¬å¹¶ç»§ç»­ rebaseã€‚

---

## ä»£ç è§„èŒƒ

### C++ é£æ ¼æŒ‡å—

VeloQ éµå¾ª [Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html)ï¼Œä½†æœ‰ä¸€äº›è°ƒæ•´ï¼š

#### å‘½åçº¦å®š

```cpp
// ç±»åï¼šå¤§é©¼å³°
class MarketDataGateway {};

// å‡½æ•°åï¼šå°é©¼å³°æˆ–è›‡å½¢å‘½å
void processMarketTick();
void process_market_tick();  // ä¹Ÿå¯æ¥å—

// å˜é‡åï¼šè›‡å½¢å‘½å
int order_count;
double last_price;

// å¸¸é‡ï¼šå¤§å†™è›‡å½¢å‘½å
constexpr int MAX_QUEUE_SIZE = 1024;

// å‘½åç©ºé—´ï¼šå°å†™
namespace veloq {
namespace gateway {
}
}

// ç§æœ‰æˆå‘˜å˜é‡ï¼šä¸‹åˆ’çº¿åç¼€
class MyClass {
private:
    int value_;
};
```

#### ä»£ç æ ¼å¼åŒ–

ä½¿ç”¨ `clang-format` æ ¼å¼åŒ–ä»£ç ï¼š

```bash
# æ ¼å¼åŒ–å•ä¸ªæ–‡ä»¶
clang-format -i src/gateway/ctp_gateway.cpp

# æ ¼å¼åŒ–æ‰€æœ‰æºæ–‡ä»¶
find src include -name "*.cpp" -o -name "*.hpp" | xargs clang-format -i
```

`.clang-format` é…ç½®å·²åŒ…å«åœ¨é¡¹ç›®æ ¹ç›®å½•ã€‚

#### ä»£ç è´¨é‡

- **é¿å…è¿‡æ—©ä¼˜åŒ–**ï¼šé¦–å…ˆç¼–å†™æ¸…æ™°æ­£ç¡®çš„ä»£ç ï¼Œç„¶ååœ¨å¿…è¦æ—¶ä¼˜åŒ–
- **RAII**ï¼šä½¿ç”¨ RAII ç®¡ç†èµ„æºï¼ˆæ™ºèƒ½æŒ‡é’ˆã€RAII åŒ…è£…å™¨ï¼‰
- **const æ­£ç¡®æ€§**ï¼šå°½å¯èƒ½ä½¿ç”¨ const
- **é¿å…åŸå§‹æŒ‡é’ˆ**ï¼šä¼˜å…ˆä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆ`std::unique_ptr`, `std::shared_ptr`ï¼‰
- **å¼‚å¸¸å®‰å…¨**ï¼šç¡®ä¿ä»£ç åœ¨å¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿèƒ½æ­£ç¡®æ¸…ç†èµ„æº
- **å¤´æ–‡ä»¶ä¿æŠ¤**ï¼šä½¿ç”¨ `#pragma once`

#### æ€§èƒ½å…³é”®ä»£ç 

å¯¹äºæ€§èƒ½å…³é”®è·¯å¾„ï¼ˆå¦‚ Gatewayã€Feature Engineï¼‰ï¼š

- é¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…
- ä½¿ç”¨å†…å­˜å¯¹é½ä¼˜åŒ– Cache è®¿é—®
- è€ƒè™‘ä½¿ç”¨ SIMD æŒ‡ä»¤
- é¿å…è™šå‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼ˆå¦‚æœå¯èƒ½ï¼‰
- ä½¿ç”¨ inline å…³é”®å­—æç¤ºç¼–è¯‘å™¨

#### æ³¨é‡Š

```cpp
// å¥½çš„æ³¨é‡Šè§£é‡Š"ä¸ºä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"åšä»€ä¹ˆ"
// Bad: Increment counter
counter++;

// Good:
// Reset counter after every 100 ticks to prevent overflow
if (counter >= 100) {
    counter = 0;
}
```

å¯¹äºå…¬å…± APIï¼Œä½¿ç”¨ Doxygen é£æ ¼çš„æ³¨é‡Šï¼š

```cpp
/**
 * @brief Connects to CTP server and authenticates
 *
 * @param front_addr CTP front server address (e.g., "tcp://127.0.0.1:10131")
 * @param broker_id Broker ID
 * @param user_id User ID for authentication
 * @param password User password
 * @return true if connection successful, false otherwise
 *
 * @note This function is blocking and may take several seconds
 * @throws std::runtime_error if CTP API initialization fails
 */
bool connect(const std::string& front_addr,
             const std::string& broker_id,
             const std::string& user_id,
             const std::string& password);
```

---

## æäº¤ä¿¡æ¯è§„èŒƒ

VeloQ éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒã€‚

### æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Typeï¼ˆç±»å‹ï¼‰

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `refactor`: é‡æ„ï¼ˆæ—¢ä¸ä¿®å¤ Bug ä¹Ÿä¸æ·»åŠ åŠŸèƒ½ï¼‰
- `docs`: æ–‡æ¡£æ›´æ–°
- `test`: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- `build`: å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„æ›´æ”¹
- `ci`: CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹
- `chore`: å…¶ä»–ä¸ä¿®æ”¹ src æˆ– test æ–‡ä»¶çš„æ›´æ”¹
- `style`: ä¸å½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹ï¼ˆç©ºæ ¼ã€æ ¼å¼åŒ–ç­‰ï¼‰

### Scopeï¼ˆèŒƒå›´ï¼‰

å¯é€‰ï¼ŒæŒ‡æ˜æ›´æ”¹å½±å“çš„æ¨¡å—ï¼š

- `gateway`
- `feature-engine`
- `inference`
- `ipc-bridge`
- `dashboard`
- `common`
- `build`
- `deps`

### Subjectï¼ˆä¸»é¢˜ï¼‰

- ä½¿ç”¨ç¥ˆä½¿å¥ï¼Œç°åœ¨æ—¶ï¼š"add" è€Œä¸æ˜¯ "added" æˆ– "adds"
- ä¸è¦å¤§å†™é¦–å­—æ¯
- ä¸è¦ä»¥å¥å·ç»“å°¾
- é™åˆ¶åœ¨ 50 ä¸ªå­—ç¬¦ä»¥å†…

### Bodyï¼ˆæ­£æ–‡ï¼‰

- å¯é€‰ï¼Œæä¾›æ›´è¯¦ç»†çš„è¯´æ˜
- ä½¿ç”¨ç¥ˆä½¿å¥ï¼Œç°åœ¨æ—¶
- è§£é‡Š"æ˜¯ä»€ä¹ˆ"å’Œ"ä¸ºä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"æ€ä¹ˆåš"
- æ¯è¡Œé™åˆ¶åœ¨ 72 ä¸ªå­—ç¬¦ä»¥å†…

### Footerï¼ˆé¡µè„šï¼‰

- å¯é€‰ï¼Œç”¨äºå¼•ç”¨ Issues æˆ–è¯´æ˜ç ´åæ€§æ›´æ”¹
- æ ¼å¼ï¼š`Closes #123` æˆ– `Fixes #456`
- ç ´åæ€§æ›´æ”¹ï¼š`BREAKING CHANGE: description`

### ç¤ºä¾‹

```
feat(gateway): add support for multiple CTP connections

Allow users to connect to multiple CTP servers simultaneously
for redundancy and load balancing.

- Add ConnectionPool class to manage multiple connections
- Update CtpGateway to use connection pool
- Add configuration options for connection pooling

Closes #42
```

```
fix(feature-engine): correct OFI calculation for edge cases

The OFI calculation was incorrect when bid/ask volumes were zero,
leading to division by zero errors.

This fix adds checks for zero volumes and returns NaN in such cases,
which is the expected behavior according to the OFI specification.

Fixes #89
```

```
perf(inference): optimize ONNX model inference with batch processing

Reduce inference latency by 40% by batching multiple predictions
and leveraging ONNX Runtime's batch processing capabilities.

Benchmark results:
- Before: 120Î¼s per prediction
- After: 72Î¼s per prediction

BREAKING CHANGE: InferenceEngine::predict() now requires a batch size parameter
```

---

## Pull Request æµç¨‹

### 1. å‡†å¤‡ä½ çš„ PR

åœ¨æäº¤ PR ä¹‹å‰ï¼š

- âœ… ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ·»åŠ æ–°æµ‹è¯•è¦†ç›–ä½ çš„æ›´æ”¹
- âœ… æ›´æ–°ç›¸å…³æ–‡æ¡£
- âœ… ä»£ç å·²æ ¼å¼åŒ–ï¼ˆä½¿ç”¨ clang-formatï¼‰
- âœ… æäº¤ä¿¡æ¯éµå¾ªè§„èŒƒ
- âœ… ä¸ä¸Šæ¸¸ main åˆ†æ”¯åŒæ­¥

### 2. åˆ›å»º Pull Request

```bash
# æ¨é€ä½ çš„åˆ†æ”¯åˆ° Fork
git push origin feature/my-awesome-feature
```

ç„¶ååœ¨ GitHub ä¸Šåˆ›å»º Pull Requestã€‚

### 3. PR æè¿°æ¨¡æ¿

```markdown
## æè¿°

ç®€è¦æè¿°è¿™ä¸ª PR åšäº†ä»€ä¹ˆã€‚

## åŠ¨æœºå’ŒèƒŒæ™¯

è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ›´æ”¹ã€‚å¦‚æœå®ƒä¿®å¤äº†ä¸€ä¸ªå·²æœ‰çš„ Issueï¼Œè¯·é“¾æ¥è¯¥ Issueã€‚

Closes #123

## æ›´æ”¹ç±»å‹

- [ ] Bug ä¿®å¤ï¼ˆéç ´åæ€§æ›´æ”¹ï¼Œä¿®å¤ä¸€ä¸ª Issueï¼‰
- [ ] æ–°åŠŸèƒ½ï¼ˆéç ´åæ€§æ›´æ”¹ï¼Œæ·»åŠ åŠŸèƒ½ï¼‰
- [ ] ç ´åæ€§æ›´æ”¹ï¼ˆä¿®å¤æˆ–åŠŸèƒ½ä¼šå¯¼è‡´ç°æœ‰åŠŸèƒ½ä¸æŒ‰é¢„æœŸå·¥ä½œï¼‰
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç é‡æ„

## æµ‹è¯•

æè¿°ä½ è¿›è¡Œçš„æµ‹è¯•ä»¥éªŒè¯ä½ çš„æ›´æ”¹ã€‚

- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼ˆå¦‚æœç›¸å…³ï¼‰
- [ ] å†…å­˜æ£€æŸ¥é€šè¿‡ï¼ˆAddressSanitizer/Valgrindï¼‰

## æ£€æŸ¥æ¸…å•

- [ ] æˆ‘çš„ä»£ç éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼
- [ ] æˆ‘å·²è¿›è¡Œè‡ªæˆ‘å®¡æŸ¥
- [ ] æˆ‘å·²æ³¨é‡Šäº†éš¾ä»¥ç†è§£çš„ä»£ç 
- [ ] æˆ‘å·²æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æˆ‘çš„æ›´æ”¹æ²¡æœ‰äº§ç”Ÿæ–°çš„è­¦å‘Š
- [ ] æˆ‘å·²æ·»åŠ æµ‹è¯•è¯æ˜æˆ‘çš„ä¿®å¤æœ‰æ•ˆæˆ–æˆ‘çš„åŠŸèƒ½å·¥ä½œæ­£å¸¸
- [ ] æ–°çš„å’Œç°æœ‰çš„å•å…ƒæµ‹è¯•åœ¨æœ¬åœ°é€šè¿‡
- [ ] ä»»ä½•ä¾èµ–çš„æ›´æ”¹å·²è¢«åˆå¹¶å’Œå‘å¸ƒ

## æˆªå›¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

æ·»åŠ æˆªå›¾ä»¥å¸®åŠ©è§£é‡Šä½ çš„æ›´æ”¹ã€‚

## å…¶ä»–ä¿¡æ¯

æ·»åŠ å…³äº PR çš„ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚
```

### 4. ä»£ç å®¡æŸ¥

- å“åº”å®¡æŸ¥æ„è§å¹¶è¿›è¡Œå¿…è¦çš„æ›´æ”¹
- å°†æ–°çš„æäº¤æ¨é€åˆ°åŒä¸€åˆ†æ”¯ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ·»åŠ åˆ° PR
- æ„Ÿè°¢å®¡æŸ¥è€…çš„æ—¶é—´å’Œåé¦ˆ

### 5. åˆå¹¶

ä¸€æ—¦ä½ çš„ PR è¢«æ‰¹å‡†ï¼š

- ç»´æŠ¤è€…å°†åˆå¹¶ä½ çš„ PR
- ä½ çš„æ›´æ”¹å°†å‡ºç°åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­
- ä½ å°†è¢«æ·»åŠ åˆ°è´¡çŒ®è€…åˆ—è¡¨ä¸­ï¼

---

## æµ‹è¯•è¦æ±‚

### å•å…ƒæµ‹è¯•

- æ‰€æœ‰æ–°ä»£ç éƒ½åº”è¯¥æœ‰ç›¸åº”çš„å•å…ƒæµ‹è¯•
- æµ‹è¯•åº”è¯¥å¿«é€Ÿã€ç‹¬ç«‹ä¸”å¯é‡å¤
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æµ‹è¯•åç§°

```cpp
TEST(FeatureEngineTest, ComputeOFI_ZeroVolumes_ReturnsNaN) {
    FeatureEngine engine;
    MarketTick tick{};
    // ... setup tick with zero volumes ...

    auto features = engine.compute(tick);

    EXPECT_TRUE(std::isnan(features.ofi));
}
```

### é›†æˆæµ‹è¯•

- æµ‹è¯•æ¨¡å—ä¹‹é—´çš„äº¤äº’
- æ”¾åœ¨ `tests/integration/` ç›®å½•

### æ€§èƒ½æµ‹è¯•

- å¯¹äºæ€§èƒ½å…³é”®ä»£ç ï¼Œæ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- ä½¿ç”¨ Google Benchmark æ¡†æ¶
- åœ¨ PR æè¿°ä¸­åŒ…å«æ€§èƒ½å¯¹æ¯”

```cpp
static void BM_FeatureComputation(benchmark::State& state) {
    FeatureEngine engine;
    MarketTick tick = GenerateTestTick();

    for (auto _ : state) {
        auto features = engine.compute(tick);
        benchmark::DoNotOptimize(features);
    }
}
BENCHMARK(BM_FeatureComputation);
```

### æµ‹è¯•è¦†ç›–ç‡

- ç›®æ ‡ï¼šæ ¸å¿ƒä»£ç  >80% è¦†ç›–ç‡
- ä½¿ç”¨ gcov/lcov ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š

```bash
cmake .. -DCMAKE_BUILD_TYPE=Debug -DENABLE_COVERAGE=ON
cmake --build .
ctest
gcovr -r .. --html --html-details -o coverage.html
```

---

## ç¤¾åŒº

### è·å–å¸®åŠ©

- ğŸ“– é˜…è¯» [æ–‡æ¡£](docs/)
- ğŸ’¬ æäº¤ [Issue](https://github.com/yourusername/veloq/issues)
- ğŸ“§ è”ç³»ç»´æŠ¤è€…ï¼š[@shuheng-mo](https://github.com/shuheng-mo)

### è®¤å¯è´¡çŒ®è€…

æˆ‘ä»¬ä½¿ç”¨ [All Contributors](https://allcontributors.org/) è§„èŒƒæ¥è®¤å¯æ‰€æœ‰ç±»å‹çš„è´¡çŒ®ã€‚

è´¡çŒ®ç±»å‹åŒ…æ‹¬ä½†ä¸é™äºï¼š
- ğŸ’» ä»£ç 
- ğŸ“– æ–‡æ¡£
- ğŸ› Bug æŠ¥å‘Š
- ğŸ’¡ æƒ³æ³•å’Œå»ºè®®
- ğŸ¤” å›ç­”é—®é¢˜
- ğŸ“¢ å®£ä¼ 
- ğŸ¨ è®¾è®¡

---

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œä½ åŒæ„ä½ çš„è´¡çŒ®å°†åœ¨ [MIT License](LICENSE) ä¸‹æˆæƒã€‚

---

## é—®é¢˜ï¼Ÿ

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦æ¾„æ¸…ï¼Œè¯·éšæ—¶ï¼š

- æäº¤ Issue
- åœ¨ PR ä¸­æé—®
- è”ç³»ç»´æŠ¤è€…

**å†æ¬¡æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼** ğŸ‰

---

<div align="center">

**[è¿”å›é¡¶éƒ¨](#è´¡çŒ®æŒ‡å—)**

Made with â™¥ by the VeloQ community

</div>
